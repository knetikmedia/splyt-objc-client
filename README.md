# DataCollectorClient

<p>Use this API to send application data to Knetik.io including user/device information and transactional events.</p> <p>   Please consult the <a href=\"/doc\">official user documentation</a> to find out how to send data, and how this data is used. <p></p> <h2>Notes</h2> <br> New more ReSTful implementation of the telemetry data collection service. Legacy clients can still use the old API format, but we strongly recommend switching over to this new format. Navigate to the legacy documentation using the dropdown at the top of this page. <p></p> <h2>User IDs and Device IDs</h2> <br> Knetik.io can uniquely associate state, events and transactions to users and/or devices for your application. In order to accomplish this, each API call takes userId and deviceId as parameters in the request object. At least one of these must be provided in the request object, except as explicitly noted. <br> <p></p> <h2>Timestamps</h2> <br> All timestamp parameters must be epoch timestamps in milliseconds. <br> <p></p> <h2>Required Request Headers</h2> <br> The following HTTP header values must be provided for each API call: <ul>   <li>     <b>Content-Type: application/json</b>   </li> </ul> <p></p> <h2>Required Query Parameters</h2> <br> All API calls also require the following query parameters to be present on the URL: <ul>   <li>     <b>customer_id:</b> your unique customer ID   </li> </ul> <p></p> <h2>API Responses</h2> <br> If successful, API calls will simply return an HTTP response code of ACCEPTED (202) with no other data. If errors occur, a JSON payload will be returned containing detailed error information and an appropriate HTTP error status code will be provided (as documented in each of the API methods). <br> <p></p>

This ObjC package is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 2.0
- Package version: 3.0.6
- Build package: io.swagger.codegen.languages.ObjcClientCodegen
For more information, please visit [http://www.knetik.com](http://www.knetik.com)

## Requirements

The SDK requires [**ARC (Automatic Reference Counting)**](http://stackoverflow.com/questions/7778356/how-to-enable-disable-automatic-reference-counting) to be enabled in the Xcode project.

## Installation & Usage
### Install from Github using [CocoaPods](https://cocoapods.org/)

Add the following to the Podfile:

```ruby
pod 'DataCollectorClient', :git => 'https://github.com/GIT_USER_ID/GIT_REPO_ID.git'
```

To specify a particular branch, append `, :branch => 'branch-name-here'`

To specify a particular commit, append `, :commit => '11aa22'`

### Install from local path using [CocoaPods](https://cocoapods.org/)

Put the SDK under your project folder (e.g. /path/to/objc_project/Vendor/DataCollectorClient) and then add the following to the Podfile:

```ruby
pod 'DataCollectorClient', :path => 'Vendor/DataCollectorClient'
```

### Usage

Import the following:

```objc
#import <DataCollectorClient/DCCApiClient.h>
#import <DataCollectorClient/DCCDefaultConfiguration.h>
// load models
#import <DataCollectorClient/DCCBatchRequestResult.h>
#import <DataCollectorClient/DCCDataCollectorBaseRequest.h>
#import <DataCollectorClient/DCCDataCollectorBatchRequest.h>
#import <DataCollectorClient/DCCDataCollectorBeginTransactionRequest.h>
#import <DataCollectorClient/DCCDataCollectorEndTransactionRequest.h>
#import <DataCollectorClient/DCCDataCollectorNewDeviceRequest.h>
#import <DataCollectorClient/DCCDataCollectorNewUserRequest.h>
#import <DataCollectorClient/DCCDataCollectorTuneRequest.h>
#import <DataCollectorClient/DCCDataCollectorUpdateCollectionRequest.h>
#import <DataCollectorClient/DCCDataCollectorUpdateDeviceStateRequest.h>
#import <DataCollectorClient/DCCDataCollectorUpdateTransactionRequest.h>
#import <DataCollectorClient/DCCDataCollectorUpdateUserStateRequest.h>
#import <DataCollectorClient/DCCNewEventRequest.h>
// load API classes for accessing endpoints
#import <DataCollectorClient/DCCBatchApi.h>
#import <DataCollectorClient/DCCDebuggingApi.h>
#import <DataCollectorClient/DCCDevicesApi.h>
#import <DataCollectorClient/DCCEventsApi.h>
#import <DataCollectorClient/DCCMobileApplicationTrackingApi.h>
#import <DataCollectorClient/DCCTransactionsApi.h>
#import <DataCollectorClient/DCCUsersApi.h>

```

## Recommendation

It's recommended to create an instance of ApiClient per thread in a multi-threaded environment to avoid any potential issues.

## Getting Started 

 KnetikCloud (JSAPI) uses a strict Oauth 2.0 implementation with the following grant types: 

* **Password grant**: Used for user authentication, usually from an unsecured web or mobile client when a fully authenticated user account is required to perform actions. ex: 

```curl 
POST /oauth/token?grant_type=password&client_id=web&username=jdoe&password=68a4sd3sd
 ``` 

* **Client credentials grant**: 
 Used for server authentication or secured clients when the secret key cannot be discovered. This kind of grant is typically used for administrative tasks on the application itself or to access other user's account information. 

```curl 
POST /oauth/token grant_type=client_credentials&client_id=server-client-id&client_secret=1s31dfas65d4f3sa651c3s54f 
```  

The endpoint will return a response containing the authentication token as follows: 
```json: 
{"access_token":"25a0659c-6f4a-40bd-950e-0ba4af7acf0f","token_type":"bearer","expires_in":2145660769,"scope":"write read"}
``` 

Use the provided access_token in sub-sequent requests to authenticate (see code below). Make sure you refresh your token before it expires to avoid having to re-authenticate.

Please follow the [installation procedure](#installation--usage) and then run the following:

```objc


NSString* *customerId = @"customerId_example"; // customerId
DCCDataCollectorBatchRequest* *batchRequest = [[DCCDataCollectorBatchRequest alloc] init]; // The batch of requests to submit (optional)

DCCBatchApi *apiInstance = [[DCCBatchApi alloc] init];

// Submit a batch of requests as an array of input models
[apiInstance submitBatchWithCustomerId:customerId
    batchRequest:batchRequest
              completionHandler: ^(NSArray<DCCBatchRequestResult>* output, NSError* error) {
                            if (output) {
                                NSLog(@"%@", output);
                            }
                            if (error) {
                                NSLog(@"Error: %@", error);
                            }
                        }];

```

## Documentation for API Endpoints

All URIs are relative to *https://api.knetik.io*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*DCCBatchApi* | [**submitBatch**](docs/DCCBatchApi.md#submitbatch) | **POST** /v2/batch | Submit a batch of requests as an array of input models
*DCCDebuggingApi* | [**disableDebugger**](docs/DCCDebuggingApi.md#disabledebugger) | **DELETE** /v2/_debug/{customerId} | Disable debugging via Redis
*DCCDebuggingApi* | [**enableDebugger**](docs/DCCDebuggingApi.md#enabledebugger) | **POST** /v2/_debug/{customerId} | Enable debugging via Redis
*DCCDevicesApi* | [**newDevice**](docs/DCCDevicesApi.md#newdevice) | **POST** /v2/devices | Submit a new device event
*DCCDevicesApi* | [**updateDeviceState**](docs/DCCDevicesApi.md#updatedevicestate) | **PUT** /v2/devices/{id} | Updates the state parameters for the given device
*DCCEventsApi* | [**createEvent**](docs/DCCEventsApi.md#createevent) | **POST** /v2/events | Creates a single event (a transaction with no duration)
*DCCMobileApplicationTrackingApi* | [**submitTuneRequest**](docs/DCCMobileApplicationTrackingApi.md#submittunerequest) | **POST** /v2/tune | Submit mobile application tracking data for Tune applications
*DCCTransactionsApi* | [**beginTransaction**](docs/DCCTransactionsApi.md#begintransaction) | **POST** /v2/transactions | Begins a new transaction
*DCCTransactionsApi* | [**endTransaction**](docs/DCCTransactionsApi.md#endtransaction) | **PUT** /v2/transactions/{id}/end | Ends the transaction
*DCCTransactionsApi* | [**updateCollection**](docs/DCCTransactionsApi.md#updatecollection) | **POST** /v2/collections | Creates and finalizes a collection of transaction information
*DCCTransactionsApi* | [**updateTransaction**](docs/DCCTransactionsApi.md#updatetransaction) | **PUT** /v2/transactions/{id} | Updates the progress for the given transaction
*DCCUsersApi* | [**newUser**](docs/DCCUsersApi.md#newuser) | **POST** /v2/users | Submit a new user event
*DCCUsersApi* | [**updateUserState**](docs/DCCUsersApi.md#updateuserstate) | **PUT** /v2/users/{id} | Updates the entity state for the given user


## Documentation For Models

 - [DCCBatchRequestResult](docs/DCCBatchRequestResult.md)
 - [DCCDataCollectorBaseRequest](docs/DCCDataCollectorBaseRequest.md)
 - [DCCDataCollectorBatchRequest](docs/DCCDataCollectorBatchRequest.md)
 - [DCCDataCollectorBeginTransactionRequest](docs/DCCDataCollectorBeginTransactionRequest.md)
 - [DCCDataCollectorEndTransactionRequest](docs/DCCDataCollectorEndTransactionRequest.md)
 - [DCCDataCollectorNewDeviceRequest](docs/DCCDataCollectorNewDeviceRequest.md)
 - [DCCDataCollectorNewUserRequest](docs/DCCDataCollectorNewUserRequest.md)
 - [DCCDataCollectorTuneRequest](docs/DCCDataCollectorTuneRequest.md)
 - [DCCDataCollectorUpdateCollectionRequest](docs/DCCDataCollectorUpdateCollectionRequest.md)
 - [DCCDataCollectorUpdateDeviceStateRequest](docs/DCCDataCollectorUpdateDeviceStateRequest.md)
 - [DCCDataCollectorUpdateTransactionRequest](docs/DCCDataCollectorUpdateTransactionRequest.md)
 - [DCCDataCollectorUpdateUserStateRequest](docs/DCCDataCollectorUpdateUserStateRequest.md)
 - [DCCNewEventRequest](docs/DCCNewEventRequest.md)


## Documentation For Authorization

 All endpoints do not require authorization.


## Author

support@knetik.com


